{"ast":null,"code":"import { Breakpoints } from '@angular/cdk/layout';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/services/character.service\";\nimport * as i2 from \"@angular/cdk/layout\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../team/team.component\";\nimport * as i6 from \"../character-info/character-info.component\";\nfunction CharacterListComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"div\", 12)(3, \"div\", 13);\n    i0.ɵɵtext(4, \"Expansions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 14)(6, \"label\", 15)(7, \"input\", 16);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_5_Template_input_click_7_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.filterBy(\"base\", \"expansion\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 17);\n    i0.ɵɵtext(9, \"Base Game\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"label\", 15)(11, \"input\", 16);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_5_Template_input_click_11_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.filterBy(\"aftermath\", \"expansion\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\", 17);\n    i0.ɵɵtext(13, \"Aftermath\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"label\", 15)(15, \"input\", 16);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_5_Template_input_click_15_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.filterBy(\"medic\", \"expansion\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"span\", 17);\n    i0.ɵɵtext(17, \"Medic\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"label\", 15)(19, \"input\", 16);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_5_Template_input_click_19_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.filterBy(\"lockdown\", \"expansion\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"span\", 17);\n    i0.ɵɵtext(21, \"Lockdown\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(22, \"div\", 18)(23, \"img\", 19);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_5_Template_img_click_23_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.teamButtonsClicked(\"random\", ctx_r10.filteredCharacters);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"img\", 20);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_5_Template_img_click_24_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.teamButtonsClicked(\"classic\", ctx_r11.filteredCharacters);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"img\", 21);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_5_Template_img_click_25_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.teamButtonsClicked(\"manual\", ctx_r12.filteredCharacters);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(24);\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.filteredCharacters.length > 1 ? \"random-image\" : \"random-image-disabled\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.filteredCharacters.length > 1 ? \"random-image\" : \"random-image-disabled\");\n  }\n}\nfunction CharacterListComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"div\", 12)(3, \"div\", 13);\n    i0.ɵɵtext(4, \"Expansions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 14)(6, \"label\", 15)(7, \"input\", 16);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_7_Template_input_click_7_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.filterBy(\"base\", \"expansion\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 17);\n    i0.ɵɵtext(9, \"Base Game\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"label\", 15)(11, \"input\", 16);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_7_Template_input_click_11_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.filterBy(\"aftermath\", \"expansion\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\", 17);\n    i0.ɵɵtext(13, \"Aftermath\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\", 14)(15, \"label\", 15)(16, \"input\", 16);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_7_Template_input_click_16_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.filterBy(\"medic\", \"expansion\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\", 17);\n    i0.ɵɵtext(18, \"Medic\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"label\", 15)(20, \"input\", 16);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_7_Template_input_click_20_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.filterBy(\"lockdown\", \"expansion\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"span\", 17);\n    i0.ɵɵtext(22, \"Lockdown\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(23, \"div\", 18)(24, \"img\", 19);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_7_Template_img_click_24_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.teamButtonsClicked(\"random\", ctx_r18.filteredCharacters);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"img\", 20);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_7_Template_img_click_25_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.teamButtonsClicked(\"classic\", ctx_r19.filteredCharacters);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"img\", 21);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_7_Template_img_click_26_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.teamButtonsClicked(\"manual\", ctx_r20.filteredCharacters);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(25);\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.filteredCharacters.length > 1 ? \"random-image\" : \"random-image-disabled\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.filteredCharacters.length > 1 ? \"random-image\" : \"random-image-disabled\");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"text-shadow\": a0,\n    \"z-index\": \"1\"\n  };\n};\nfunction CharacterListComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"div\", 23);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_div_11_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const character_r21 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.characterClicked(character_r21);\n    });\n    i0.ɵɵelement(2, \"img\", 24);\n    i0.ɵɵelementStart(3, \"div\", 25);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const character_r21 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"title\", character_r21.name);\n    i0.ɵɵpropertyInterpolate(\"src\", character_r21.images, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(4, _c0, \"0px 5px 20px \" + character_r21.color));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(character_r21.name);\n  }\n}\nfunction CharacterListComponent_app_team_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-team\", 26);\n    i0.ɵɵlistener(\"closeEmitted\", function CharacterListComponent_app_team_12_Template_app_team_closeEmitted_0_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return ctx_r24.isTeamVisible = false;\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"teamInfo\", ctx_r3.teamData);\n  }\n}\nfunction CharacterListComponent_app_character_info_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-character-info\", 27);\n    i0.ɵɵlistener(\"closeEmitted\", function CharacterListComponent_app_character_info_13_Template_app_character_info_closeEmitted_0_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.isCharacterClicked = false;\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"characterReceived\", ctx_r4.characterSelected);\n  }\n}\nconst _c1 = function () {\n  return [\"/home\"];\n};\nexport let CharacterListComponent = /*#__PURE__*/(() => {\n  class CharacterListComponent {\n    constructor(characterservice, breakpointObserver) {\n      this.characterservice = characterservice;\n      this.breakpointObserver = breakpointObserver;\n      this.isHandset = this.breakpointObserver.observe(Breakpoints.HandsetPortrait).pipe(map(result => result.matches));\n      this.filteredCharacters = [];\n      this.filters = {};\n      this.searchString = '';\n      this.isFilterClosed = false;\n      this.editClicked = false;\n      this.isTeamVisible = false;\n      this.teamData = {};\n      this.isCharacterClicked = false;\n    }\n    ngOnInit() {\n      this.initCharacterList();\n    }\n    initCharacterList() {\n      this.characterservice.getCharacter().subscribe(c => {\n        this.characters = c;\n        this.filteredCharacters = c;\n      });\n    }\n    openCloseFilter() {\n      this.isFilterClosed = !this.isFilterClosed;\n    }\n    filterBy(value, type) {\n      if (!this.filters[type]) {\n        this.filters[type] = [];\n      }\n      if (this.filters[type].includes(value)) {\n        this.filters[type].splice(this.filters[type].indexOf(value), 1);\n      } else {\n        this.filters[type].push(value);\n      }\n      this.filterCharacters();\n    }\n    filterCharacters() {\n      this.filteredCharacters = this.characters;\n      for (const key in this.filters) {\n        if (Object.prototype.hasOwnProperty.call(this.filters, key)) {\n          const filters = this.filters[key];\n          if (filters.length > 0) {\n            this.filteredCharacters = this.filteredCharacters.filter(c => filters.some(f => c[key] === f));\n          }\n        }\n      }\n    }\n    getMoreRandom(arr, n) {\n      const tempArray = [...arr];\n      this.squad = [];\n      while (this.squad.length !== n) {\n        const index = Math.floor(Math.random() * tempArray.length);\n        const selectedCharacter = tempArray[index];\n        if (this.squad.filter(c => c.color.includes(selectedCharacter.color[0])).length === 0) {\n          this.squad.push(tempArray[index]);\n          tempArray.splice(index, 1);\n        }\n      }\n      console.log('this.squad', this.squad);\n    }\n    teamButtonsClicked(teamType, characters) {\n      if (this.filteredCharacters.length > 1 || teamType === 'random') {\n        this.isTeamVisible = true;\n        this.teamData.type = teamType;\n        this.teamData.characters = characters;\n      }\n    }\n    characterClicked(character) {\n      this.isCharacterClicked = true;\n      this.characterSelected = character;\n    }\n  }\n  CharacterListComponent.ɵfac = function CharacterListComponent_Factory(t) {\n    return new (t || CharacterListComponent)(i0.ɵɵdirectiveInject(i1.CharacterService), i0.ɵɵdirectiveInject(i2.BreakpointObserver));\n  };\n  CharacterListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CharacterListComponent,\n    selectors: [[\"app-character-list\"]],\n    decls: 14,\n    vars: 11,\n    consts: [[1, \"characters-container-total\"], [\"type\", \"button\", 1, \"home-button\"], [\"src\", \"./assets/images/HOME-icon.png\", 1, \"home-icon\", 3, \"routerLink\"], [1, \"filter-section\"], [\"class\", \"filter-container\", 4, \"ngIf\"], [1, \"characters-container\"], [1, \"characters-list\"], [\"class\", \"list\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"app-team\", 3, \"teamInfo\", \"closeEmitted\", 4, \"ngIf\"], [\"class\", \"app-character-info\", 3, \"characterReceived\", \"closeEmitted\", 4, \"ngIf\"], [1, \"filter-container\"], [1, \"filter-expansions\"], [1, \"single-section-filter\"], [1, \"expansion\"], [1, \"row\"], [1, \"container\"], [\"type\", \"checkbox\", 3, \"click\"], [1, \"expansion-name\"], [1, \"buttons-type\"], [\"src\", \"./assets/images/random.png\", 1, \"random-image\", 3, \"click\"], [\"src\", \"./assets/images/classic.png\", 3, \"ngClass\", \"click\"], [\"src\", \"./assets/images/manual.png\", 3, \"ngClass\", \"click\"], [1, \"list\"], [1, \"single-character\", 3, \"click\"], [1, \"character-image\", 3, \"title\", \"src\"], [1, \"character-name\", 3, \"ngStyle\"], [1, \"app-team\", 3, \"teamInfo\", \"closeEmitted\"], [1, \"app-character-info\", 3, \"characterReceived\", \"closeEmitted\"]],\n    template: function CharacterListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\")(2, \"button\", 1);\n        i0.ɵɵelement(3, \"img\", 2);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵtemplate(5, CharacterListComponent_div_5_Template, 26, 2, \"div\", 4);\n        i0.ɵɵpipe(6, \"async\");\n        i0.ɵɵtemplate(7, CharacterListComponent_div_7_Template, 27, 2, \"div\", 4);\n        i0.ɵɵpipe(8, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 5)(10, \"div\", 6);\n        i0.ɵɵtemplate(11, CharacterListComponent_div_11_Template, 5, 6, \"div\", 7);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(12, CharacterListComponent_app_team_12_Template, 1, 1, \"app-team\", 8);\n        i0.ɵɵtemplate(13, CharacterListComponent_app_character_info_13_Template, 1, 1, \"app-character-info\", 9);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(10, _c1));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(6, 6, ctx.isHandset) && !ctx.isFilterClosed);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(8, 8, ctx.isHandset) && !ctx.isFilterClosed);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filteredCharacters);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isTeamVisible);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isCharacterClicked);\n      }\n    },\n    directives: [i3.RouterLink, i4.NgIf, i4.NgClass, i4.NgForOf, i4.NgStyle, i5.TeamComponent, i6.CharacterInfoComponent],\n    pipes: [i4.AsyncPipe],\n    styles: [\".characters-container-total[_ngcontent-%COMP%]{width:100%;min-height:100vh;position:relative}.home-button[_ngcontent-%COMP%]{background-color:transparent;border-color:transparent;cursor:pointer;position:absolute;top:16px;left:16px;z-index:3}.home-icon[_ngcontent-%COMP%]{height:60px}.characters-list[_ngcontent-%COMP%]{color:#fff;display:flex;flex-wrap:wrap;width:100%;margin-top:20px;justify-content:center}.single-character[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:12px;position:relative}.character-name[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:0 0 8px;text-align:center;font-size:16pt}.list[_ngcontent-%COMP%]{width:15%}.character-image[_ngcontent-%COMP%]{border-radius:20px}.expansion[_ngcontent-%COMP%]{font-size:x-large!important;text-transform:uppercase;text-align:center}.row[_ngcontent-%COMP%]{display:flex;justify-content:center}@media screen and (max-width: 1200px){.character-name[_ngcontent-%COMP%]{font-size:12pt}}@media screen and (max-width: 599px){.filter-section[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#181819;z-index:2}.characters-container[_ngcontent-%COMP%]{width:95%;margin-left:auto;margin-right:auto;padding-top:320px}.home-icon[_ngcontent-%COMP%]{height:40px;position:fixed}.buttons-type[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.list[_ngcontent-%COMP%]{width:32%}.random-image[_ngcontent-%COMP%], .random-image-disabled[_ngcontent-%COMP%]{width:50%!important}.single-character[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:8px}.characters-list[_ngcontent-%COMP%]{color:#fff;display:flex;flex-wrap:wrap;justify-content:center;width:100%;margin-top:20px}.character-name[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:0 0 8px;text-align:center;font-size:10pt}}.characters-container[_ngcontent-%COMP%]{width:95%;margin-left:auto;margin-right:auto}.filter-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;width:100%;margin-left:auto;margin-right:auto}.filter-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;align-items:center}.filter-expansions[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;border-radius:8px;padding:10px;margin:16px;min-width:210px}.single-section-filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.buttons-type[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.container[_ngcontent-%COMP%]{display:flex;align-items:baseline;padding-left:4px;padding-right:4px}.expansion-name[_ngcontent-%COMP%]{margin-left:2px}.row[_ngcontent-%COMP%]{width:100%;display:flex}.random-image[_ngcontent-%COMP%]{width:20%;cursor:pointer}.random-image-disabled[_ngcontent-%COMP%]{width:20%;opacity:.5}.random-image[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.app-team[_ngcontent-%COMP%], .app-character-info[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:4}\"]\n  });\n  return CharacterListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}